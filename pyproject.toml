[project]
name = "matrx-local"
version = "0.2.0"
description = "Companion desktop application for AI Matrx â€” extends web platform with local capabilities via FastAPI"
readme = "README.md"
requires-python = ">=3.13"
dependencies = [
    # Core server
    "fastapi",
    "uvicorn",
    "pydantic",
    "pydantic-settings",
    "python-dotenv",
    "httptools",
    "pyyaml",
    "watchfiles",
    "websockets",
    # HTTP client (scraping proxy, file transfer)
    "httpx",
    # Clipboard
    "pyperclip",
    # Notifications
    "plyer",
    # System tray
    "pystray",
    "pillow",
    # Logging
    "concurrent-log-handler>=0.9.28",
    # Packaging & updates
    "pyinstaller",
    "tufup",
    # Database
    "asyncpg",
    # Scraper engine (from scraper-service)
    "curl-cffi>=0.14.0",
    "beautifulsoup4>=4.14.3",
    "lxml>=6.0.2",
    "selectolax>=0.4.6",
    "cachetools>=7.0.1",
    "tldextract>=5.3.1",
    "matrx-utils>=1.0.4",
    "markdownify>=0.14.1",
    "tabulate>=0.9.0",
    "PyMuPDF>=1.27.1",
    "pytesseract>=0.3.13",
]

[project.optional-dependencies]
audio = [
    "pyaudio",
    "sounddevice>=0.5.5",
    "numpy>=2.4.2",
]
transcription = [
    "openai-whisper",
]
browser = [
    "playwright",
]
monitoring = [
    "psutil>=6.0.0",
]
discovery = [
    "zeroconf>=0.131.0",
]
all = [
    "sounddevice>=0.5.5",
    "numpy>=2.4.2",
    "openai-whisper",
    "playwright",
    "psutil>=6.0.0",
    "zeroconf>=0.131.0",
]

[dependency-groups]
dev = [
    "pytest",
    "ruff",
]

[tool.uv]
python-preference = "only-managed"
